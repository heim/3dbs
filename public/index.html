<!doctype html>
<html>
  <head>
    <title>3 Databases in approx. 33 minutes</title>
    <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <textarea id="source">
class: front-page

# 3 Databases in (approx.) 33 minutes

## En kjapp innføring i NoSQL

Date-IT, Chalmers 6/11 - 2013

Andreas Heim
BEKK Consulting
---
class: middle center
<iframe class="centered" width="560" height="315" src="//www.youtube.com/embed/FcLHlZeLzUk" frameborder="0" allowfullscreen></iframe>

---
# <span>Agenda</span>

## Teori
* CAP
* ACID

## Praksis
* Redis
* MongoDB
* Neo4J

---


class: middle center
# Not only SQL
???
- Begrepet ble først brukt av Carlo Strozzi i 1998.
- Han hadde en Open Source Relasjonsdatabase som ikke eksponerte et standard SQL-interface.
- Han har senere foreslått at det burde hete NoREL siden de fleste NoSQL-databaser går bort fra den relasjonelle modellen
- Begrepet ble reintrodusert i 2009 av Eric Evans for å forsøke å kategorisere en voksende mengde ikke-relasjonelle distribuerte
datastores.
---
class: middle center
<h1><span>Spørsmål: Hva er NoSQL?</span></h1>
---
class: white middle center
#Svar
## *.lightbrown[ALT SOM IKKE ER EN TRADISJONELL RELASJONSDATABASE]*
???
- Eller... La oss ta litt teori.
---
class: middle center
#ACID
???
- Atomicity
- Consistency
- Isolation
- Durability
---
class: middle 

.circle.centered.red[ATOMICITY]

???
- Atomicity er en av egenskapene ved transaksjoner.
- I en serie av databaseoperasjoner så må enten *alle* skje, eller *ingenting* skjer.
- En database som garanterer atomicity vil *motvirke* at en oppdatering til databasen kun vil gjennomføres delvis.
- Atomicity i denne forstanden kan defineres som at oppdateringen ikke kan verken deles eller forenkles.
---
class: middle 

.circle.centered.yellow[CONSISTENCY]

???
- I et databasesystem så vil *Consistency* sørge for at en transaksjon vil ta databasen fra èn gyldig tilstand, til en annen gyldig tilstand.
---
class: middle
.circle.centered.green[ISOLATION]
???
- Egenskapen *isolation* sørger for at alle transaksjoner skjer isolert og på samme måte som om de skulle vært kjørt i parallel.
- Eksempel: Et eller annet eksempel.
---
class: middle

.circle.centered.lightbrown[DURABILITY]

???

- Durability, eller holdbarhet på norsk sørger for at dataene blir tatt vare på selv om systemet kræsjer. Typisk in-memory databaser har lav durablity, imens clustrede installasjoner har høy durability.
- Sammenhenger også mye med hardware og operativsystem.
---
class: white middle center

# CAP THEOREM

???
- Consistency (ACID)
- Availability (redundans)
- Partition tolerance (skalering)

---
class: white middle

.circle.centered.red[CONSISTENCY]
???
- Alle noder ser de samme dataene hele tiden.
- Hvis man skriver til en node og leser fra en annen rett etterpå, er dataene konsistente med en gang?
- Eventual consistency er noe man snakker mye om i NoSQL-sammenheng. Dataene vil bli spredt til alle noder "etterhvert".
---
class: white middle
.circle.centered.green[AVAILABILITY]
???
- Hva skjer hvis en node i clusteret går ned? Kan man fortsatt lese fra clusteret?
---
class: cols three middle
<div class="col">
  .circle.lightbrown.centered[PARTITION]
</div>
<div class="col">
  &nbsp;
</div>
<div class="col">
  .circle.yellow.centered[TOLERANCE]
</div>
???
- Hva skjer når to noder i clusteret ikke kan snakke sammen lenger?
- (Nettverksbrudd)
---
class: cols three
<h1><span>Velg to</span></h1>
<div class="col">
.circle.green.centered[CP]
<h1><span>Enforced consistency</span></h1>
- ACID
- enforced consistency
- ofrer availability
</div>
<div class="col">
.circle.green.centered[AP]
<h1><span>Eventual consistency</span></h1>
- BASE
- Kan i perioder ha inkonsistens mellom noder
</div>
<div class="col">
.circle.green.centered[CA]
<h1><span>Uskalerbart</span></h1>
- Urealistisk.
</div>
---
class: cols three

<h1><span>Praksis</span></h1>

<div class="col">
.circle.yellow.centered[Redis]
<h1><span>Key-value</span></h1>

* low-level api
* data structure server
* in-memory

</div>

<div class="col">
.circle.green.centered[MongoDB]
<h1><span>Dokumentdatabase</span></h1>

* ingen relasjoner
* embedded documents
* skalerer meget godt horisontalt

</div>
<div class="col">
.circle.lightbrown.centered[neo4j]
<h1><span>Grafdatabase</span></h1>

* optimalisert for sammenkoblede data
* eks. hvem følger hvem på twitter

</div>

---
name: terminal
# Terminal

<p id="title"></p>

<div id="container"></div>

<div style="clear: both"></div>

<ul id="list"></ul>

<p>
  <a href="#" id="resume">Resume</a> navigation
</p>


---
class: center pushed


![ux](img/ux.png)

### *.lightbrown[CAFE BULTEN]*
## I KVELD KL. 17.00
### *.lightbrown[uxcup.bekk.no]*

???

UX Cup er en interaksjonsdesign konkurranse for 3.-5. klassinger som vi arrangerer for 7 skoler i 3 byer. Vinnerlaget blir med BEKK til Lisboa på UXLx konferansen. Chalmers har vunnet de siste 2 årene, klarer de å forsvare seieren?

---
class: pushed
<span class="img">
![](img/resepsjon.png)
</span>


<h1><span>Sommerjobb i BEKK</span></h1>

.circle.yellow.top-right[Søknadsfrist 8. november]

##Send søknad med CV og karakterer (betyg) til jobb@bekk.no.

*.lightbrown[P.S. Vi skjønner svensk]*
    </textarea>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/term.js"></script>
    <script src="http://gnab.github.io/remark/downloads/remark-0.5.9.min.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script> 

    <script type="text/javascript">
      var slideshow = remark.create({highlightStyle: "solarized"});

      slideshow.on('showSlide', function(slide) {
        if(slide.properties.name == "terminal") {
          slideshow.pause();
        }
      });
      document.getElementById('resume').onclick = function (e) {
        slideshow.resume();
        e.preventDefault();
      };

      var processed = [];



      window.onload = function() {
        var socket = io.connect();
        socket.on('connect', function() {
          var term = new Terminal({
            cols: 80,
            rows: 20,
            useStyle: true,
            screenKeys: true
          });

          term.on('data', function(data) {
            socket.emit('terminal', data);
          });

          term.on('title', function(title) {
            document.getElementById('title').innerText = title;
          });

          term.open(document.getElementById('container'));

          term.write('\x1b[31mWelcome to term.js!\x1b[m\r\n');

          socket.on('terminal', function(data) {
            term.write(data);
          });



          socket.on('disconnect', function() {
            term.destroy();
          });
        });

        socket.on('redis', function(data) {
          $("#list").append('<li>' + data + '</li>');
        });
      };
    </script>
    <link rel="stylesheet/less" type="text/css" href="lib/bekk.less" />
    <script src="lib/less.js" type="text/javascript"></script>
  </body>
</html>
